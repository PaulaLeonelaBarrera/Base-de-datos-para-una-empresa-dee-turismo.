-- MySQL Script generated by MySQL Workbench
-- 11/14/24 10:07:45
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema TFI
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema TFI
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `TFI` DEFAULT CHARACTER SET utf8 COLLATE utf8_spanish_ci ;
USE `TFI` ;

-- -----------------------------------------------------
-- Table `TFI`.`CLIENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`CLIENTE` (
  `IdCLIENTE` INT NOT NULL AUTO_INCREMENT,
  `Dni` VARCHAR(45) NOT NULL,
  `Nombre` VARCHAR(45) NOT NULL,
  `Apellido` VARCHAR(45) NOT NULL,
  `Sexo` VARCHAR(45) NOT NULL,
  `Nacionalidad` VARCHAR(45) NOT NULL,
  `FechaNacimiento` DATE NOT NULL,
  `Telefono` VARCHAR(45) NOT NULL,
  `CorreoElectronico` VARCHAR(45) NOT NULL,
  `Ciudad` VARCHAR(45) NOT NULL,
  `NombreCalle` VARCHAR(45) NOT NULL,
  `NroCalle` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`IdCLIENTE`))
ENGINE = InnoDB;

SET FOREIGN_KEY_CHECKS=1; -- to disable them

DROP TABLE IF EXISTS `INTERMEDIARIO`;
-- -----------------------------------------------------
-- Table `TFI`.`INTERMEDIARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`INTERMEDIARIO` (
  `CUIT` VARCHAR(45) NOT NULL,
  `Nombre` VARCHAR(45) NOT NULL,
  `Telefono` VARCHAR(45) NOT NULL,
  `CorreoElectronico` VARCHAR(45) NOT NULL,
  `SitioWeb` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`CUIT`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`EVENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`EVENTO` (
  `IdEVENTO` INT NOT NULL AUTO_INCREMENT,
  `Nombre` VARCHAR(45) NULL,
  `Fecha_Inicio` DATE NOT NULL,
  `Fecha_Fin` DATE NOT NULL,
  `INTERMEDIARIO_CUIT` INT NOT NULL,
  PRIMARY KEY (`IdEVENTO`),
  INDEX `fk_EVENTO_INTERMEDIARIO1_idx` (`INTERMEDIARIO_CUIT` ASC),
  CONSTRAINT `fk_EVENTO_INTERMEDIARIO1`
    FOREIGN KEY (`INTERMEDIARIO_CUIT`)
    REFERENCES `TFI`.`INTERMEDIARIO` (`CUIT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`CIRCUITO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`CIRCUITO` (
  `IdCIRCUITO` INT NOT NULL AUTO_INCREMENT,
  `Nombre` VARCHAR(45) NOT NULL,
  `Descripcion` MEDIUMTEXT NOT NULL,
  PRIMARY KEY (`IdCIRCUITO`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`LUGAR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`LUGAR` (
  `IdLUGAR` INT NOT NULL AUTO_INCREMENT,
  `Nombre` VARCHAR(45) NOT NULL,
  `Departamento` VARCHAR(45) NOT NULL,
  `Localidad` VARCHAR(45) NOT NULL,
  `NombreCalle` VARCHAR(45) NOT NULL,
  `NroCalle` VARCHAR(45) NOT NULL,
  `Coordenadas_Gps` VARCHAR(45) NOT NULL,
  `IdEVENTO` INT NOT NULL,
  `IdCIRCUITO` INT NOT NULL,
  PRIMARY KEY (`IdLUGAR`),
  INDEX `fk_LUGAR_EVENTO1_idx` (`IdEVENTO` ASC),
  INDEX `fk_LUGAR_CIRCUITO1_idx` (`IdCIRCUITO` ASC),
  CONSTRAINT `fk_LUGAR_EVENTO1`
    FOREIGN KEY (`IdEVENTO`)
    REFERENCES `TFI`.`EVENTO` (`IdEVENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_LUGAR_CIRCUITO1`
    FOREIGN KEY (`IdCIRCUITO`)
    REFERENCES `TFI`.`CIRCUITO` (`IdCIRCUITO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`ALOJAMIENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`ALOJAMIENTO` (
  `IdALOJAMIENTO` INT NOT NULL AUTO_INCREMENT,
  `Nombre` VARCHAR(45) NOT NULL,
  `Tipo` VARCHAR(45) NOT NULL,
  `Direccion` VARCHAR(45) NOT NULL,
  `Horario_Entrada` DATETIME NOT NULL,
  `Horario_Salida` DATETIME NOT NULL,
  `Estrellas` INT NOT NULL,
  `NroPiso` INT NOT NULL,
  `NroHabitacion` INT NOT NULL,
  `Tipo_Servicio` VARCHAR(45) NOT NULL,
  `Telefono` VARCHAR(45) NOT NULL,
  `IdLUGAR` INT NOT NULL,
  PRIMARY KEY (`IdALOJAMIENTO`),
  INDEX `fk_HOTEL_LUGAR1_idx` (`IdLUGAR` ASC),
  CONSTRAINT `fk_HOTEL_LUGAR1`
    FOREIGN KEY (`IdLUGAR`)
    REFERENCES `TFI`.`LUGAR` (`IdLUGAR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`RESTAURANTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`RESTAURANTE` (
  `IdRESTAURANTE` INT NOT NULL AUTO_INCREMENT,
  `Nombre` VARCHAR(45) NOT NULL,
  `Direccion` VARCHAR(45) NOT NULL,
  `Telefono` VARCHAR(45) NOT NULL,
  `Tipo_Comida` VARCHAR(45) NOT NULL,
  `Tipo_Bebida` VARCHAR(45) NOT NULL,
  `Carac_Especial` VARCHAR(45) NOT NULL,
  `IdLUGAR` INT NOT NULL,
  PRIMARY KEY (`IdRESTAURANTE`),
  INDEX `fk_RESTAURANTE_LUGAR1_idx` (`IdLUGAR` ASC),
  CONSTRAINT `fk_RESTAURANTE_LUGAR1`
    FOREIGN KEY (`IdLUGAR`)
    REFERENCES `TFI`.`LUGAR` (`IdLUGAR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`PAQUETE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`PAQUETE` (
  `IdPAQUETE` INT NOT NULL AUTO_INCREMENT,
  `Nombre` VARCHAR(45) NOT NULL,
  `Descripcion` MEDIUMTEXT NOT NULL,
  `IdEVENTO` INT NOT NULL,
  PRIMARY KEY (`IdPAQUETE`),
  INDEX `fk_PROMOCION_EVENTO1_idx` (`IdEVENTO` ASC),
  CONSTRAINT `fk_PROMOCION_EVENTO1`
    FOREIGN KEY (`IdEVENTO`)
    REFERENCES `TFI`.`EVENTO` (`IdEVENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`ACTIVIDAD`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`ACTIVIDAD` (
  `IdACTIVIDAD` INT NOT NULL,
  `Nombre` VARCHAR(45) NOT NULL,
  `Descripcion` MEDIUMTEXT NOT NULL,
  `IdPAQUETE` INT NOT NULL,
  PRIMARY KEY (`IdACTIVIDAD`),
  INDEX `fk_ACTIVIDAD_PROMOCION1_idx` (`IdPAQUETE` ASC),
  CONSTRAINT `fk_ACTIVIDAD_PROMOCION1`
    FOREIGN KEY (`IdPAQUETE`)
    REFERENCES `TFI`.`PAQUETE` (`IdPAQUETE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`CALENDARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`CALENDARIO` (
  `IdCALENDARIO` INT NOT NULL AUTO_INCREMENT,
  `Fecha` DATE NOT NULL,
  `EVENTO_IdEVENTO` INT NOT NULL,
  PRIMARY KEY (`IdCALENDARIO`, `EVENTO_IdEVENTO`),
  INDEX `fk_CALENDARIO_EVENTO1_idx` (`EVENTO_IdEVENTO` ASC),
  CONSTRAINT `fk_CALENDARIO_EVENTO1`
    FOREIGN KEY (`EVENTO_IdEVENTO`)
    REFERENCES `TFI`.`EVENTO` (`IdEVENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`GALERIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`GALERIA` (
  `IdGALERIA` INT NOT NULL AUTO_INCREMENT,
  `Nombre` VARCHAR(45) NOT NULL,
  `IdEVENTO` INT NOT NULL,
  PRIMARY KEY (`IdGALERIA`),
  INDEX `fk_GALERIA_EVENTO1_idx` (`IdEVENTO` ASC),
  CONSTRAINT `fk_GALERIA_EVENTO1`
    FOREIGN KEY (`IdEVENTO`)
    REFERENCES `TFI`.`EVENTO` (`IdEVENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`IMAGEN`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`IMAGEN` (
  `IdIMAGEN` INT NOT NULL AUTO_INCREMENT,
  `Nombre` VARCHAR(45) NOT NULL,
  `Tipo` VARCHAR(45) NOT NULL,
  `IdGALERIA` INT NOT NULL,
  PRIMARY KEY (`IdIMAGEN`, `IdGALERIA`),
  INDEX `fk_IMAGEN_GALERIA1_idx` (`IdGALERIA` ASC),
  CONSTRAINT `fk_IMAGEN_GALERIA1`
    FOREIGN KEY (`IdGALERIA`)
    REFERENCES `TFI`.`GALERIA` (`IdGALERIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`TIPO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`TIPO` (
  `IdTIPO` INT NOT NULL AUTO_INCREMENT,
  `Nombre` VARCHAR(45) NOT NULL,
  `IdEVENTO` INT NOT NULL,
  PRIMARY KEY (`IdTIPO`, `IdEVENTO`),
  INDEX `fk_TIPO_EVENTO1_idx` (`IdEVENTO` ASC),
  CONSTRAINT `fk_TIPO_EVENTO1`
    FOREIGN KEY (`IdEVENTO`)
    REFERENCES `TFI`.`EVENTO` (`IdEVENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`SPONSOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`SPONSOR` (
  `CUIT` VARCHAR(45) NOT NULL,
  `Nombre` VARCHAR(45) NOT NULL,
  `CorreoElectronico` VARCHAR(45) NOT NULL,
  `Telefono` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`CUIT`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`RESEÑA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`RESEÑA` (
  `IdRESEÑA` INT NOT NULL AUTO_INCREMENT,
  `Autor` VARCHAR(45) NOT NULL,
  `Comentario` MEDIUMTEXT NOT NULL,
  `Puntuacion` INT NOT NULL,
  `IdEVENTO` INT NOT NULL,
  PRIMARY KEY (`IdRESEÑA`, `IdEVENTO`),
  INDEX `fk_RESEÑA_EVENTO_idx` (`IdEVENTO` ASC),
  CONSTRAINT `fk_RESEÑA_EVENTO`
    FOREIGN KEY (`IdEVENTO`)
    REFERENCES `TFI`.`EVENTO` (`IdEVENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`ENTRADA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`ENTRADA` (
  `IdENTRADA` INT NOT NULL AUTO_INCREMENT,
  `Nombre` VARCHAR(45) NOT NULL,
  `NroEntrada` VARCHAR(45) NOT NULL,
  `IdEVENTO` INT NOT NULL,
  `IdTURISTA` INT NOT NULL,
  `PrecioEntrada` FLOAT NOT NULL,
  `FechaEmision` DATE NOT NULL,
  PRIMARY KEY (`IdENTRADA`, `IdEVENTO`, `IdTURISTA`),
  INDEX `fk_ENTRADA_EVENTO1_idx` (`IdEVENTO` ASC),
  INDEX `fk_ENTRADA_TURISTA1_idx` (`IdTURISTA` ASC),
  CONSTRAINT `fk_ENTRADA_EVENTO1`
    FOREIGN KEY (`IdEVENTO`)
    REFERENCES `TFI`.`EVENTO` (`IdEVENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ENTRADA_TURISTA1`
    FOREIGN KEY (`IdTURISTA`)
    REFERENCES `TFI`.`CLIENTE` (`IdCLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`TRANSPORTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`TRANSPORTE` (
  `Patente` VARCHAR(45) NOT NULL,
  `Numero` INT NOT NULL,
  `Empresa` VARCHAR(45) NOT NULL,
  `IdPAQUETE` INT NOT NULL,
  PRIMARY KEY (`Patente`, `IdPAQUETE`),
  INDEX `fk_AUTOBUS_PROMOCION1_idx` (`IdPAQUETE` ASC),
  CONSTRAINT `fk_AUTOBUS_PROMOCION1`
    FOREIGN KEY (`IdPAQUETE`)
    REFERENCES `TFI`.`PAQUETE` (`IdPAQUETE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`PATROCINA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`PATROCINA` (
  `CUIT_sponsor` VARCHAR(45) NOT NULL,
  `IdEVENTO` INT NOT NULL,
  PRIMARY KEY (`CUIT_sponsor`, `IdEVENTO`),
  INDEX `fk_SPONSOR_has_EVENTO_EVENTO1_idx` (`IdEVENTO` ASC),
  INDEX `fk_SPONSOR_has_EVENTO_SPONSOR1_idx` (`CUIT_sponsor` ASC),
  CONSTRAINT `fk_SPONSOR_has_EVENTO_SPONSOR1`
    FOREIGN KEY (`CUIT_sponsor`)
    REFERENCES `TFI`.`SPONSOR` (`CUIT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SPONSOR_has_EVENTO_EVENTO1`
    FOREIGN KEY (`IdEVENTO`)
    REFERENCES `TFI`.`EVENTO` (`IdEVENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`VA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`VA` (
  `IdRESTAURANTE` INT NOT NULL,
  `IdCLIENTE` INT NOT NULL,
  PRIMARY KEY (`IdRESTAURANTE`, `IdCLIENTE`),
  INDEX `fk_RESTAURANTE_has_TURISTA_TURISTA1_idx` (`IdCLIENTE` ASC),
  INDEX `fk_RESTAURANTE_has_TURISTA_RESTAURANTE1_idx` (`IdRESTAURANTE` ASC),
  CONSTRAINT `fk_RESTAURANTE_has_TURISTA_RESTAURANTE1`
    FOREIGN KEY (`IdRESTAURANTE`)
    REFERENCES `TFI`.`RESTAURANTE` (`IdRESTAURANTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_RESTAURANTE_has_TURISTA_TURISTA1`
    FOREIGN KEY (`IdCLIENTE`)
    REFERENCES `TFI`.`CLIENTE` (`IdCLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`RESERVA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`RESERVA` (
  `IdALOJAMIENTO` INT NOT NULL AUTO_INCREMENT,
  `IdCLIENTE` INT NOT NULL,
  `FechaReserva` DATE NOT NULL,
  PRIMARY KEY (`IdALOJAMIENTO`, `IdCLIENTE`),
  INDEX `fk_HOTEL_has_TURISTA_TURISTA1_idx` (`IdCLIENTE` ASC),
  INDEX `fk_HOTEL_has_TURISTA_HOTEL1_idx` (`IdALOJAMIENTO` ASC),
  CONSTRAINT `fk_HOTEL_has_TURISTA_HOTEL1`
    FOREIGN KEY (`IdALOJAMIENTO`)
    REFERENCES `TFI`.`ALOJAMIENTO` (`IdALOJAMIENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_HOTEL_has_TURISTA_TURISTA1`
    FOREIGN KEY (`IdCLIENTE`)
    REFERENCES `TFI`.`CLIENTE` (`IdCLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`REALIZA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`REALIZA` (
  `IdACTIVIDAD` INT NOT NULL AUTO_INCREMENT,
  `IdCLIENTE` INT NOT NULL,
  PRIMARY KEY (`IdACTIVIDAD`, `IdCLIENTE`),
  INDEX `fk_ACTIVIDAD_has_TURISTA_TURISTA1_idx` (`IdCLIENTE` ASC),
  INDEX `fk_ACTIVIDAD_has_TURISTA_ACTIVIDAD1_idx` (`IdACTIVIDAD` ASC),
  CONSTRAINT `fk_ACTIVIDAD_has_TURISTA_ACTIVIDAD1`
    FOREIGN KEY (`IdACTIVIDAD`)
    REFERENCES `TFI`.`ACTIVIDAD` (`IdACTIVIDAD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ACTIVIDAD_has_TURISTA_TURISTA1`
    FOREIGN KEY (`IdCLIENTE`)
    REFERENCES `TFI`.`CLIENTE` (`IdCLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`TOMA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`TOMA` (
  `Patente_Transporte` VARCHAR(45) NOT NULL,
  `IdCLIENTE` INT NOT NULL,
  PRIMARY KEY (`Patente_Transporte`, `IdCLIENTE`),
  INDEX `fk_AUTOBUS_has_TURISTA_TURISTA1_idx` (`IdCLIENTE` ASC),
  INDEX `fk_AUTOBUS_has_TURISTA_AUTOBUS1_idx` (`Patente_Transporte` ASC),
  CONSTRAINT `fk_AUTOBUS_has_TURISTA_AUTOBUS1`
    FOREIGN KEY (`Patente_Transporte`)
    REFERENCES `TFI`.`TRANSPORTE` (`Patente`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AUTOBUS_has_TURISTA_TURISTA1`
    FOREIGN KEY (`IdCLIENTE`)
    REFERENCES `TFI`.`CLIENTE` (`IdCLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`RESTAURANTE_GALERIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`RESTAURANTE_GALERIA` (
  `IdRESTAURANTE` INT NOT NULL,
  `IdGALERIA` INT NOT NULL,
  PRIMARY KEY (`IdRESTAURANTE`, `IdGALERIA`),
  INDEX `fk_RESTAURANTE_has_GALERIA_GALERIA1_idx` (`IdGALERIA` ASC),
  INDEX `fk_RESTAURANTE_has_GALERIA_RESTAURANTE1_idx` (`IdRESTAURANTE` ASC),
  CONSTRAINT `fk_RESTAURANTE_has_GALERIA_RESTAURANTE1`
    FOREIGN KEY (`IdRESTAURANTE`)
    REFERENCES `TFI`.`RESTAURANTE` (`IdRESTAURANTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_RESTAURANTE_has_GALERIA_GALERIA1`
    FOREIGN KEY (`IdGALERIA`)
    REFERENCES `TFI`.`GALERIA` (`IdGALERIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`ALOJAMIENTO_GALERIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`ALOJAMIENTO_GALERIA` (
  `IdALOJAMIENTO` INT NOT NULL,
  `IdGALERIA` INT NOT NULL,
  PRIMARY KEY (`IdALOJAMIENTO`, `IdGALERIA`),
  INDEX `fk_HOTEL_has_GALERIA_GALERIA1_idx` (`IdGALERIA` ASC),
  INDEX `fk_HOTEL_has_GALERIA_HOTEL1_idx` (`IdALOJAMIENTO` ASC),
  CONSTRAINT `fk_HOTEL_has_GALERIA_HOTEL1`
    FOREIGN KEY (`IdALOJAMIENTO`)
    REFERENCES `TFI`.`ALOJAMIENTO` (`IdALOJAMIENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_HOTEL_has_GALERIA_GALERIA1`
    FOREIGN KEY (`IdGALERIA`)
    REFERENCES `TFI`.`GALERIA` (`IdGALERIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`GALERIA_CIRCUITO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`GALERIA_CIRCUITO` (
  `IdGALERIA` INT NOT NULL,
  `IdCIRCUITO` INT NOT NULL,
  PRIMARY KEY (`IdGALERIA`, `IdCIRCUITO`),
  INDEX `fk_GALERIA_has_CIRCUITO_CIRCUITO1_idx` (`IdCIRCUITO` ASC),
  INDEX `fk_GALERIA_has_CIRCUITO_GALERIA1_idx` (`IdGALERIA` ASC),
  CONSTRAINT `fk_GALERIA_has_CIRCUITO_GALERIA1`
    FOREIGN KEY (`IdGALERIA`)
    REFERENCES `TFI`.`GALERIA` (`IdGALERIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_GALERIA_has_CIRCUITO_CIRCUITO1`
    FOREIGN KEY (`IdCIRCUITO`)
    REFERENCES `TFI`.`CIRCUITO` (`IdCIRCUITO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`ACTIVIDAD_GALERIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`ACTIVIDAD_GALERIA` (
  `IdACTIVIDAD` INT NOT NULL,
  `IdGALERIA` INT NOT NULL,
  PRIMARY KEY (`IdACTIVIDAD`, `IdGALERIA`),
  INDEX `fk_ACTIVIDAD_has_GALERIA_GALERIA1_idx` (`IdGALERIA` ASC),
  INDEX `fk_ACTIVIDAD_has_GALERIA_ACTIVIDAD1_idx` (`IdACTIVIDAD` ASC),
  CONSTRAINT `fk_ACTIVIDAD_has_GALERIA_ACTIVIDAD1`
    FOREIGN KEY (`IdACTIVIDAD`)
    REFERENCES `TFI`.`ACTIVIDAD` (`IdACTIVIDAD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ACTIVIDAD_has_GALERIA_GALERIA1`
    FOREIGN KEY (`IdGALERIA`)
    REFERENCES `TFI`.`GALERIA` (`IdGALERIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`PLAN_CONTIGENCIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`PLAN_CONTIGENCIA` (
  `IdPLAN_CONTIGENCIA` INT NOT NULL,
  `Nombre` VARCHAR(45) NOT NULL,
  `IdEVENTO` INT NOT NULL,
  PRIMARY KEY (`IdPLAN_CONTIGENCIA`, `IdEVENTO`),
  INDEX `fk_PLAN_CONTIGENCIA_EVENTO1_idx` (`IdEVENTO` ASC),
  CONSTRAINT `fk_PLAN_CONTIGENCIA_EVENTO1`
    FOREIGN KEY (`IdEVENTO`)
    REFERENCES `TFI`.`EVENTO` (`IdEVENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`TIPO_CLIENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`TIPO_CLIENTE` (
  `IdTIPO_CLIENTE` INT NOT NULL AUTO_INCREMENT,
  `Nombre` VARCHAR(45) NOT NULL,
  `IdCLIENTE` INT NOT NULL,
  `IdPLAN_CONTIGENCIA` INT NOT NULL,
  `IdEVENTO` INT NOT NULL,
  PRIMARY KEY (`IdTIPO_CLIENTE`, `IdCLIENTE`, `IdPLAN_CONTIGENCIA`, `IdEVENTO`),
  INDEX `fk_TIPO_CLIENTE_CLIENTE1_idx` (`IdCLIENTE` ASC),
  INDEX `fk_TIPO_CLIENTE_PLAN_CONTIGENCIA1_idx` (`IdPLAN_CONTIGENCIA` ASC, `IdEVENTO` ASC),
  CONSTRAINT `fk_TIPO_CLIENTE_CLIENTE1`
    FOREIGN KEY (`IdCLIENTE`)
    REFERENCES `TFI`.`CLIENTE` (`IdCLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_TIPO_CLIENTE_PLAN_CONTIGENCIA1`
    FOREIGN KEY (`IdPLAN_CONTIGENCIA` , `IdEVENTO`)
    REFERENCES `TFI`.`PLAN_CONTIGENCIA` (`IdPLAN_CONTIGENCIA` , `IdEVENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`SEGURO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`SEGURO` (
  `CUIT` VARCHAR(45) NOT NULL,
  `Nombre` VARCHAR(45) NOT NULL,
  `Tipo` VARCHAR(45) NOT NULL,
  `Cobertura` VARCHAR(45) NOT NULL,
  `Telefono` VARCHAR(45) NOT NULL,
  `CorreoElectronico` VARCHAR(45) NOT NULL,
  `SitioWeb` VARCHAR(45) NOT NULL,
  `IdTIPO_CLIENTE` INT NOT NULL,
  `IdCLIENTE` INT NOT NULL,
  PRIMARY KEY (`CUIT`),
  INDEX `fk_SEGURO_TIPO_CLIENTE1_idx` (`IdTIPO_CLIENTE` ASC, `IdCLIENTE` ASC),
  CONSTRAINT `fk_SEGURO_TIPO_CLIENTE1`
    FOREIGN KEY (`IdTIPO_CLIENTE` , `IdCLIENTE`)
    REFERENCES `TFI`.`TIPO_CLIENTE` (`IdTIPO_CLIENTE` , `IdCLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`BRINDA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`BRINDA` (
  `SEGURO_CUIT` VARCHAR(45) NOT NULL,
  `IdPAQUETE` INT NOT NULL,
  PRIMARY KEY (`SEGURO_CUIT`, `IdPAQUETE`),
  INDEX `fk_SEGURO_has_PAQUETE_PAQUETE1_idx` (`IdPAQUETE` ASC),
  INDEX `fk_SEGURO_has_PAQUETE_SEGURO1_idx` (`SEGURO_CUIT` ASC),
  CONSTRAINT `fk_SEGURO_has_PAQUETE_SEGURO1`
    FOREIGN KEY (`SEGURO_CUIT`)
    REFERENCES `TFI`.`SEGURO` (`CUIT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_SEGURO_has_PAQUETE_PAQUETE1`
    FOREIGN KEY (`IdPAQUETE`)
    REFERENCES `TFI`.`PAQUETE` (`IdPAQUETE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`ENCUESTA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`ENCUESTA` (
  `IdENCUESTA` INT NOT NULL,
  `Nombre` VARCHAR(45) NOT NULL,
  `IdCLIENTE` INT NOT NULL,
  `IdPAQUETE` INT NOT NULL,
  PRIMARY KEY (`IdENCUESTA`, `IdCLIENTE`, `IdPAQUETE`),
  INDEX `fk_ENCUESTA_CLIENTE1_idx` (`IdCLIENTE` ASC),
  INDEX `fk_ENCUESTA_PAQUETE1_idx` (`IdPAQUETE` ASC),
  CONSTRAINT `fk_ENCUESTA_CLIENTE1`
    FOREIGN KEY (`IdCLIENTE`)
    REFERENCES `TFI`.`CLIENTE` (`IdCLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ENCUESTA_PAQUETE1`
    FOREIGN KEY (`IdPAQUETE`)
    REFERENCES `TFI`.`PAQUETE` (`IdPAQUETE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`PROVEEDOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`PROVEEDOR` (
  `CUIT` VARCHAR(45) NULL,
  `Nombre` VARCHAR(45) NULL,
  `Tipo` VARCHAR(45) NULL,
  `Telefono` VARCHAR(45) NULL,
  `CorreoElectronico` VARCHAR(45) NULL,
  `INTERMEDIARIO_CUIT` VARCHAR(45) NULL,
  PRIMARY KEY (`CUIT`),
  INDEX `fk_PROVEEDOR_INTERMEDIARIO1_idx` (`INTERMEDIARIO_CUIT` ASC),
  CONSTRAINT `fk_PROVEEDOR_INTERMEDIARIO1`
    FOREIGN KEY (`INTERMEDIARIO_CUIT`)
    REFERENCES `TFI`.`INTERMEDIARIO` (`CUIT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`RESTAURANTE_PROVEEDOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`RESTAURANTE_PROVEEDOR` (
  `IdRESTAURANTE` VARCHAR(45) NOT NULL,
  `PROVEEDOR_CUIT` INT NULL,
  PRIMARY KEY (`IdRESTAURANTE`, `PROVEEDOR_CUIT`),
  INDEX `fk_RESTAURANTE_has_PROVEEDOR_PROVEEDOR1_idx` (`PROVEEDOR_CUIT` ASC),
  INDEX `fk_RESTAURANTE_has_PROVEEDOR_RESTAURANTE1_idx` (`IdRESTAURANTE` ASC),
  CONSTRAINT `fk_RESTAURANTE_has_PROVEEDOR_RESTAURANTE1`
    FOREIGN KEY (`IdRESTAURANTE`)
    REFERENCES `TFI`.`RESTAURANTE` (`IdRESTAURANTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_RESTAURANTE_has_PROVEEDOR_PROVEEDOR1`
    FOREIGN KEY (`PROVEEDOR_CUIT`)
    REFERENCES `TFI`.`PROVEEDOR` (`CUIT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`ACTIVIDAD_PROVEEDOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`ACTIVIDAD_PROVEEDOR` (
  `PROVEEDOR_CUIT` VARCHAR(45) NOT NULL,
  `IdACTIVIDAD` INT NOT NULL,
  PRIMARY KEY (`PROVEEDOR_CUIT`, `IdACTIVIDAD`),
  INDEX `fk_PROVEEDOR_has_ACTIVIDAD_ACTIVIDAD1_idx` (`IdACTIVIDAD` ASC),
  INDEX `fk_PROVEEDOR_has_ACTIVIDAD_PROVEEDOR1_idx` (`PROVEEDOR_CUIT` ASC),
  CONSTRAINT `fk_PROVEEDOR_has_ACTIVIDAD_PROVEEDOR1`
    FOREIGN KEY (`PROVEEDOR_CUIT`)
    REFERENCES `TFI`.`PROVEEDOR` (`CUIT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PROVEEDOR_has_ACTIVIDAD_ACTIVIDAD1`
    FOREIGN KEY (`IdACTIVIDAD`)
    REFERENCES `TFI`.`ACTIVIDAD` (`IdACTIVIDAD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`ALOJAMIENTO_PROVEEDOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`ALOJAMIENTO_PROVEEDOR` (
  `IdALOJAMIENTO` INT NOT NULL,
  `PROVEEDOR_CUIT` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`IdALOJAMIENTO`, `PROVEEDOR_CUIT`),
  INDEX `fk_ALOJAMIENTO_has_PROVEEDOR_PROVEEDOR1_idx` (`PROVEEDOR_CUIT` ASC),
  INDEX `fk_ALOJAMIENTO_has_PROVEEDOR_ALOJAMIENTO1_idx` (`IdALOJAMIENTO` ASC),
  CONSTRAINT `fk_ALOJAMIENTO_has_PROVEEDOR_ALOJAMIENTO1`
    FOREIGN KEY (`IdALOJAMIENTO`)
    REFERENCES `TFI`.`ALOJAMIENTO` (`IdALOJAMIENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ALOJAMIENTO_has_PROVEEDOR_PROVEEDOR1`
    FOREIGN KEY (`PROVEEDOR_CUIT`)
    REFERENCES `TFI`.`PROVEEDOR` (`CUIT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `TFI`.`TRANSPORTE_PROVEEDOR`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `TFI`.`TRANSPORTE_PROVEEDOR` (
  `PROVEEDOR_CUIT` VARCHAR(45) NOT NULL,
  `Patente` VARCHAR(45) NOT NULL,
  `IdPAQUETE` INT NOT NULL,
  PRIMARY KEY (`PROVEEDOR_CUIT`, `Patente`, `IdPAQUETE`),
  INDEX `fk_PROVEEDOR_has_TRANSPORTE_TRANSPORTE1_idx` (`Patente` ASC, `IdPAQUETE` ASC),
  INDEX `fk_PROVEEDOR_has_TRANSPORTE_PROVEEDOR1_idx` (`PROVEEDOR_CUIT` ASC),
  CONSTRAINT `fk_PROVEEDOR_has_TRANSPORTE_PROVEEDOR1`
    FOREIGN KEY (`PROVEEDOR_CUIT`)
    REFERENCES `TFI`.`PROVEEDOR` (`CUIT`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PROVEEDOR_has_TRANSPORTE_TRANSPORTE1`
    FOREIGN KEY (`Patente` , `IdPAQUETE`)
    REFERENCES `TFI`.`TRANSPORTE` (`Patente` , `IdPAQUETE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
